{
  "mcpServers": {
    "xmind-ai": {
      "command": "npx",
      "args": ["-y", "node@18", "-e", "
        const { spawn } = require('child_process');
        const path = require('path');
        
        const serverPath = path.resolve(__dirname, 'start_mcp_server.py');
        const pythonProcess = spawn('python', [serverPath], {
          cwd: path.resolve(__dirname),
          env: { ...process.env, PYTHONPATH: path.resolve(__dirname) }
        });
        
        pythonProcess.stdout.on('data', (data) => {
          console.log(`[XMind AI MCP] ${data}`);
        });
        
        pythonProcess.stderr.on('data', (data) => {
          console.error(`[XMind AI MCP Error] ${data}`);
        });
        
        pythonProcess.on('close', (code) => {
          console.log(`[XMind AI MCP] 进程退出，代码: ${code}`);
        });
        
        // 保持进程运行
        process.stdin.resume();
      "],
      "description": "XMind AI MCP Server - 智能思维导图操作工具",
      "enabled": true,
      "timeout": 60,
      "tools": [
        {
          "name": "read_xmind_file",
          "description": "读取XMind文件内容，获取思维导图结构和统计信息"
        },
        {
          "name": "create_mind_map", 
          "description": "创建新的思维导图，支持自定义标题和主题结构"
        },
        {
          "name": "analyze_mind_map",
          "description": "分析思维导图结构，提供复杂度、平衡性等分析结果"
        },
        {
          "name": "convert_to_xmind",
          "description": "将Markdown、HTML、Word、Excel等文件转换为XMind格式"
        },
        {
          "name": "list_xmind_files",
          "description": "列出指定目录下的所有XMind文件，支持递归搜索"
        },
        {
          "name": "ai_generate_topics",
          "description": "基于AI生成思维导图主题建议，支持自然语言输入"
        }
      ]
    }
  }
}